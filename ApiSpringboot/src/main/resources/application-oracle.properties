# ============================================================================
# CONFIGURAÇÃO ORACLE CLOUD AUTONOMOUS DATABASE
# Para usar: java -jar app.jar --spring.profiles.active=oracle
# ============================================================================

spring.application.name=ApiSpringboot

# --- Oracle Cloud Datasource -----------------------------------------------
# IMPORTANTE: Configure as mesmas credenciais do Desktop App (App.config)
spring.datasource.url=jdbc:oracle:thin:@pontoofflinedb_tp?TNS_ADMIN=C:/Users/Guto/Downloads/Wallet_PontoOfflineDB
spring.datasource.username=TESTE_PONTO
spring.datasource.password=Medeixaempaz2001
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver

# --- Oracle Connection Pool -------------------------------------------------
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.connection-test-query=SELECT 1 FROM DUAL

# --- JPA / Hibernate para Oracle --------------------------------------------
# validate = Apenas valida o schema (NÃO altera tabelas existentes)
# IMPORTANTE: Use 'validate' para não alterar o schema do Desktop App
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.OracleDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true

# Para Oracle Cloud, desabilitar auto-commit pode melhorar performance
spring.jpa.properties.hibernate.connection.autocommit=false

# --- Logging ----------------------------------------------------------------
logging.level.org.hibernate.SQL=INFO
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.oracle.jdbc=INFO

# --- Server -----------------------------------------------------------------
server.port=8080

# --- H2 Console (desabilitado para Oracle) ----------------------------------
spring.h2.console.enabled=false
